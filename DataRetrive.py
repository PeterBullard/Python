from yahoo_finance import Share
import numpy as np
import os
g = os.path.abspath("DataSet.txt")
p = os.path.abspath('Array.bin')
q = open(p, 'wb')
f=open(g, 'wb')
names = np.array([('PIH'),('FLWS'),('FCCY'),('SRCE'),('VNET'),('TWOU'),('JOBS'),('EGHT'),('AVHI'),('SHLM'),('AAON'),('ABAX'),('ABEO'),('ABIL'),('ABMD'),('AXAS'),('ACIA'),('ACTG'),('ACHC'),('ACAD'),('ACST'),('AXDX'),('XLRN'),('ANCX'),('ARAY'),('ACRX'),('ACET'),('AKAO'),('ACHN'),('ACIW'),('ACRS'),('ACNB'),('ACOR'),('ACTS'),('ACPW'),('ATVI'),('ACTA'),('ACUR'),('ACXM'),('ADMS'),('ADMP'),('ADAP'),('ADUS'),('AEY'),('IOTS'),('ADMA'),('ADBE'),('ADTN'),('ADRO'),('AAAP'),('ADES'),('AEIS'),('AITP'),('AMD'),('ADXS'),('ADXSW'),('ADVM'),('MAUI'),('YPRO'),('AEGR'),('AEGN'),('AGLE'),('AEHR'),('AMTX'),('AEPI'),('AERI'),('AVAV'),('AEZS'),('AEMD'),('AFMD'),('AGEN'),('AGRX'),('AGYS'),('AGIO'),('AGNC'),('AGNCB'),('AGNCP'),('AGFS'),('AGFSW'),('AIMT'),('AIRM'),('AIRT'),('ATSG'),('AIRG'),('AMCN'),('AIXG'),('AKAM'),('AKTX'),('AKBA'),('AKER'),('AKRX'),('ALRM'),('ALSK'),('AMRI'),('ABDC'),('ADHD'),('ALDR'),('ALDX'),('ALXN'),('ALCO'),('ALGN'),('ALIM'),('ALJJ'),('ALKS'),('ABTX'),('ALGT'),('AIQ'),('AHGP'),('AMMA'),('ARLP'),('AHPI'),('AMOT'),('ALQA'),('ALLT'),('MDRX'),('AFAM'),('ALNY'),('AOSL'),('GOOG'),('GOOGL'),('SMCP'),('ATEC'),('ASPS'),('AIMC'),('AMAG'),('AMRN'),('AMRK'),('AYA'),('AMZN'),('AMBC'),('AMBCW'),('AMBA'),('AMCX'),('DOX'),('AMDA'),('AMED'),('UHAL'),('ATAX'),('AMOV'),('AAL'),('ACSF'),('ACAS'),('AETI'),('AMNB'),('ANAT'),('APEI'),('ARII'),('AMRB'),('AMSWA'),('AMSC'),('AMWD'),('CRMT'),('ABCB'),('AMSF'),('ASRV'),('ASRVP'),('ATLO'),('AMGN'),('FOLD'),('AMKR'),('AMPH'),('IBUY'),('AMSG'),('AMSGP'),('ASYS'),('AFSI'),('AMRS'),('ADI'),('ALOG'),('AVXL'),('ANCB'),('ANDA'),('ANDAR'),('ANDAU'),('ANDAW'),('ANGI'),('ANGO'),('ANIP'),('ANIK'),('ANSS'),('ATRS'),('ANTH'),('ABAC'),('APIC'),('APOG'),('APOL'),('AINV'),('AMEH'),('APPF'),('AAPL'),('ARCI'),('APDN'),('APDNW'),('AGTC'),('AMAT'),('AMCC'),('AAOI'),('AREX'),('APTI'),('APRI'),('APVO'),('APTO'),('AQMS'),('AQXP'),('ARDM'),('ARLZ'),('PETX'),('ABUS'),('ARCW'),('ABIO'),('RKDA'),('ARCB'),('ACGL'),('ACGLP'),('APLP'),('ACAT'),('ARDX'),('ARNA'),('ARCC'),('AGII'),('AGIIL'),('ARGS'),('ARIS'),('ARIA'),('ARKR'),('ARTX'),('ARWA'),('ARWAR'),('ARWAU'),('ARWAW'),('ARQL'),('ARRY'),('ARRS'),('DWAT'),('AROW'),('ARWR'),('ARTNA'),('ARTW'),('PUMP'),('ASBB'),('ASNA'),('ASND'),('ASCMA'),('APWC'),('ASML'),('AZPN'),('ASMB'),('ASFI'),('ASTE'),('ATRO'),('ALOT'),('ASTC'),('ASUR'),('ATAI'),('ATRA'),('ATHN'),('ATHX'),('AAPC'),('AAME'),('ACBI'),('ACFC'),('ABY'),('ATLC'),('AAWW'),('AFH'),('TEAM'),('ATNI'),('ATMR'),('ATOS'),('ATRC'),('ATRI'),('ATTU'),('LIFE'),('AUBN'),('BOLD'),('AUDC'),('AUPH'),('EARS'),('ABTL'),('ADSK'),('ADP'),('AVEO'),('AVXS'),('AVNW'),('AVID'),('AVGR'),('AVIR'),('CAR'),('AHPAU'),('AWRE'),('AXAR'),('AXARU'),('AXARW'),('ACLS'),('AXGN'),('AXSM'),('AXTI'),('AZRX'),('BCOM'),('RILY'),('BOSC'),('BEAV'),('BIDU'),('BCPC'),('BWINA'),('BWINB'),('BLDP'),('BANF'),('BANFP'),('BCTF'),('BKMU'),('BOCH'),('BMRC'),('BKSC'),('BOTJ'),('OZRK'),('BFIN'),('BWFG'),('BANR'),('BZUN'),('TAPR'),('BHAC'),('BHACR'),('BHACU'),('BHACW'),('BBSI'),('BSET'),('BYBK'),('BV'),('BCBP'),('BECN'),('BSF'),('BBGI'),('BEBE'),('BBBY'),('BGNE'),('BELFA'),('BELFB'),('BLPH'),('BLCM'),('BNCL'),('BNFT'),('BNTC'),('BNTCW'),('BGCP'),('BGFV'),('BASI'),('ORPN'),('BIOC'),('BCRX'),('BIOD'),('BDSI'),('BIIB'),('BIOL'),('BLFS'),('BOLT'),('BLRX'),('BMRN'),('BMRA'),('BVXV'),('BVXVW'),('BPTH'),('BIOS'),('BBC'),('BBP'),('BSTC'),('BSTG'),('BSPM'),('TECH'),('BEAT'),('BJRI'),('BBOX'),('BDE'),('BLKB'),('BBRY'),('HAWK'),('BKCC'),('ADRA'),('ADRD'),('ADRE'),('ADRU'),('BLMN'),('BCOR'),('BLBD'),('BUFF'),('BHBK'),('NILE'),('BLUE'),('BKEP'),('BKEPP'),('BPMC'),('ITEQ'),('BMCH'),('BNCN'),('BOBE'),('BOFI'),('BOFIL'),('WIFI'),('BOJA'),('BOKF'),('BOKFL'),('BNSO'),('BPFH'),('BPFHP'),('BPFHW'),('EPAY'),('BLVD'),('BLVDU'),('BLVDW'),('BOXL'),('BCLI'),('BBRG'),('BDGE'),('BLIN'),('BRID'),('BCOV'),('AVGO'),('BSFT'),('BVSN'),('BYFC'),('BWEN'),('BRCD'),('BRKL'),('BRKS'),('BRKR'),('BMTC'),('BLMT'),('BSQR'),('BWLD'),('BLDR'),('BMLA'),('BUR'),('CFFI'),('CHRW'),('CA'),('CCMP'),('CDNS'),('CDZI'),('CACQ'),('CZR'),('CSTE'),('PRSS'),('CLBS'),('CLMS'),('CHY'),('CHI'),('CCD'),('CHW'),('CGO'),('CSQ'),('CAMP'),('CVGW'),('CFNB'),('CALA'),('CALD'),('CALM'),('CLMT'),('ABCD'),('CAC'),('CAMT'),('CSIQ'),('CGIX'),('CPHC'),('CPLA'),('CBF'),('CCBG'),('CPLP'),('CSWC'),('CPTA'),('CLAC'),('CLACU'),('CLACW'),('CFFN'),('CAPN'),('CAPNW'),('CAPR'),('CSTR'),('CPST'),('CARA'),('CARB'),('CBYL'),('CCN'),('CCNWW'),('CFNL'),('CRME'),('CSII'),('CATM'),('CDNA'),('CECO'),('CTRE'),('CKEC'),('CLBH'),('CARO'),('CART'),('CRZO'),('TAST'),('CRTN'),('CARV'),('CASM'),('CACB'),('CASC'),('CWST'),('CASY'),('CASI'),('CASS'),('CATB'),('CBIO'),('CPRX'),('CATY'),('CATYW'),('CVCO'),('CAVM'),('CBFV'),('CBOE'),('CDK'),('CDW'),('CECE'),('CELG'),('CELGZ'),('CLDX'),('APOP'),('APOPW'),('CLRB'),('CLRBW'),('CLRBZ'),('CLLS'),('CBMG'),('CLSN'),('CYAD'),('CEMP'),('CETX'),('CDEV'),('CDEVW'),('CSFL'),('CETV'),('CFBK'),('CENT'),('CENTA'),('CVCY'),('CFCB'),('CENX'),('CNBKA'),('CNTY'),('CPHD'),('CRNT'),('CERC'),('CERCW'),('CERCZ'),('CERN'),('CERU'),('CERS'),('KOOL'),('CEVA'),('CFCO'),('CFCOU'),('CFCOW'),('CSBR'),('CYOU'),('HOTR'),('HOTRW'),('CTHR'),('GTLS'),('CHTR'),('CHFN'),('CHKP'),('CHEK'),('CHEKW'),('CEMI'),('CHFC'),('CCXI'),('CHMG'),('CHKE'),('CHMA'),('CBNK'),('PLCE'),('CMRX'),('CADC'),('CALI'),('CAAS'),('CBAK'),('CBPO'),('CCCL'),('CCCR'),('CCRC'),('JRJC'),('HGSH'),('CNIT'),('CJJD'),('CLDC'),('CLDCW'),('HTHT'),('CHNR'),('CREG'),('CNTF'),('CXDC'),('CCIH'),('CNET'),('IMOS'),('CDXC'),('CHSCL'),('CHSCM'),('CHSCN'),('CHSCO'),('CHSCP'),('CHDN'),('CHUY'),('CDTX'),('CIFC'),('CMCT'),('CMPR'),('CINF'),('CIDM'),('CTAS'),('CPHR'),('CRUS'),('CSCO'),('CTRN'),('CZNC'),('CZWI'),('CZFC'),('CIZN'),('CTXS'),('CHCO'),('CIVB'),('CIVBP'),('CDTI'),('CLNE'),('CLNT'),('CLFD'),('CLRO'),('CLSD'),('CLIR'),('CBLI'),('CSBK'),('CLVS'),('CMFN'),('CME'),('CCNE'),('CISG'),('CNV'),('CWAY'),('COBZ'),('COKE'),('CDXS'),('CVLY'),('JVA'),('CCOI'),('CGNT'),('COGT'),('CGNX'),('CTSH'),('COHR'),('CHRS'),('COHU'),('CLCT'),('COLL'),('CIGI'),('CBAN'),('CLCD'),('COLB'),('COLM'),('CMCO'),('CBMX'),('CBMXW'),('CMCSA'),('CBSH'),('CBSHP'),('CUBN'),('CHUBA'),('CHUBK'),('CVGI'),('COMM'),('CSAL'),('JCS'),('ESXB'),('CCFI'),('CYHHZ'),('CTBI'),('CWBC'),('COB'),('CVLT'),('CGEN'),('CPSI'),('CTG'),('SCOR'),('CHCI'),('CMTL'),('CNAT'),('CNCE'),('CXRX'),('CCUR'),('CDOR'),('CFMS'),('CONG'),('CNFR'),('CNMD'),('CTWS'),('CNOB'),('CNXR'),('CONN'),('CNSL'),('CWCO'),('CPSS'),('CFRX'),('CFRXW'),('CTRV'),('CTRL'),('CPAA'),('CPAAU'),('CPAAW'),('CPRT'),('COYN'),('COYNW'),('CRBP'),('CORT'),('CORE'),('CORI'),('CSOD'),('CRVL'),('CRVS'),('CSGP'),('COST'),('CPAH'),('ICBK'),('COUP'),('CVTI'),('COVS'),('COWN'),('COWNL'),('PMTS'),('CPSH'),('CRAI'),('CBRL'),('BREW'),('CRAY'),('CACC'),('GLDI'),('SLVO'),('CREE'),('CRESY'),('CRTO'),('CROX'),('CCRN'),('XRDC'),('CRDS'),('CRWS'),('CYRX'),('CYRXW'),('CSGS'),('CCLP'),('CSPI'),('CSWI'),('CSX'),('CTIC'),('CTIB'),('CTRP'),('CUNB'),('CUI'),('CPIX'),('CMLS'),('CRIS'),('CUTR'),('CVBF'),('CVV'),('CYAN'),('CYBR'),('CYBE'),('CYCC'),('CYCCP'),('CBAY'),('CYNA'),('CYNO'),('CY'),('CYRN'),('CONE'),('CYTK'),('CTMX'),('CYTX'),('CYTXW'),('CTSO'),('CYTR'),('DJCO'),('DAKT'),('DRIO'),('DRIOW'),('DZSI'),('DAIO'),('DTLK'),('DRAM'),('DWCH'),('PLAY'),('DTEA'),('DWSN'),('DBVT'),('DHRM'),('DFRG'),('TACO'),('TACOW'),('DCTH'),('DMPI'),('DGAS'),('DELT'),('DELTW'),('DENN'),('XRAY'),('DEPO'),('DSCI'),('DERM'),('DEST'),('DXLG'),('DSWL'),('DTRM'),('DXCM'),('DXTR'),('DHXM'),('DHIL'),('FANG'),('DCIX'),('DRNA'),('DFBG'),('DGII'),('DMRC'),('DRAD'),('DGLY'),('APPS'),('DCOM'),('DMTX'),('DIOD'),('DPRX'),('DISCA'),('DISCB'),('DISCK'),('DISH'),('DVCR'),('SAUC'),('DLHC'),('DNBF'),('DLTR'),('DGICA'),('DGICB'),('DMLP'),('DORM'),('EAGL'),('EAGLU'),('EAGLW'),('DRWI'),('DRYS'),('DSKX'),('DSPG'),('DTSI'),('DLTH'),('DNKN'),('DRRX'),('DXPE'),('BOOM'),('DYSL'),('DYNT'),('DVAX'),('ETFC'),('EBMT'),('EGBN'),('EGLE'),('EGRX'),('ELNK'),('EWBC'),('EACQ'),('EACQU'),('EACQW'),('EML'),('EVBS'),('EVGBC'),('EVSTC'),('EVLMC'),('EBAY'),('EBAYL'),('EBIX'),('ELON'),('ECHO'),('SATS'),('EEI'),('ECAC'),('ECACR'),('ECACU'),('ESES'),('EDAP'),('EDGE'),('EDGW'),('EDIT'),('EDUC'),('EFUT'),('EGAN'),('EGLT'),('EHTH'),('EIGR'),('EKSO'),('LOCO'),('EMITF'),('ESLT'),('ERI'),('ESIO'),('EA'),('EFII'),('ELSE'),('ELEC'),('ELECU'),('ELECW'),('EBIO'),('DWAC'),('CAPX'),('ESBK'),('ELTK'),('EMCI'),('EMCF'),('EMKR'),('EMMS'),('NYNY'),('ERS'),('ENTA'),('ECPG'),('WIRE'),('ENDP'),('ECYT'),('ELGX'),('EIGI'),('WATT'),('EFOI'),('ERII'),('ENOC'),('ENG'),('ENPH'),('ESGR'),('ENFC'),('ENTG'),('ENTL'),('ETRM'),('EBTC'),('EFSC'),('EGT'),('ENZY'),('EPZM'),('PLUS'),('EQIX'),('EQFN'),('EQBK'),('EAC'),('ERIC'),('ERIE'),('ESCA'),('ESMC'),('ESPR'),('ESSA'),('EPIX'),('ESND'),('ESSF'),('ETSY'),('CLWT'),('EEFT'),('ESEA'),('EVEP'),('EVBG'),('EVK'),('MRAM'),('EVLV'),('EVOK'),('EVOL'),('EXA'),('EXAS'),('EXAC'),('EXEL'),('EXFO'),('EXLS'),('EXPE'),('EXPD'),('EXPO'),('ESRX'),('XOG'),('EXTR'),('EYEG'),('EYEGW'),('EZPW'),('FFIV'),('FB'),('FRP'),('FALC'),('DAVE'),('FARM'),('FFKT'),('FMNB'),('FARO'),('FAST'),('FATE'),('FBSS'),('FBRC'),('FDML'),('FNHC'),('FHCO'),('FENX'),('GSM'),('FCSC'),('FGEN'),('ONEQ'),('LION'),('FDUS'),('FRGI'),('FSAM'),('FSC'),('FSCFL'),('FSFR'),('FITB'),('FITBI'),('FNGN'),('FISI'),('FNSR'),('FNJN'),('FEYE'),('FBNC'),('FNLC'),('FRBA'),('BUSE'),('FBIZ'),('FCAP'),('FCFS'),('FCNCA'),('FCBC'),('FCCO'),('FCFP'),('FBNK'),('FDEF'),('FFBC'),('FFBCW'),('FFIN'),('THFF'),('FFNW'),('FFWM'),('FGBI'),('FHB'),('INBK'),('INBKL'),('FIBK'),('FRME'),('FMBH'),('FMBI'),('FNBC'),('FNWB'),('FSFG'),('FSLR'),('FSBK'),('FAAR'),('FPA'),('BICK'),('FBZ'),('FCAN'),('FTCS'),('FCEF'),('FCA'),('FDT'),('FDTS'),('FVC'),('FV'),('IFV'),('FEM'),('FEMB'),('FEMS'),('FTSM'),('FEP'),('FEUZ'),('FGM'),('FTGC'),('FTHI'),('HYLS'),('FHK'),('FTAG'),('FTRI'),('FPXI'),('YDIV'),('SKYY'),('FJP'),('FEX'),('FTC'),('FTA'),('FLN'),('FTLB'),('LMBS'),('FMB'),('FMK'),('FNX'),('FNY'),('FNK'),('FAD'),('FAB'),('MDIV'),('MCEF'),('QABA'),('FTXO'),('QCLN'),('GRID'),('CIBR'),('FTXG'),('CARZ'),('FTXN'),('FTXH'),('FTXD'),('RDVY'),('FTXL')], dtype=str)

temp3 = np.array([{'Low': '34.130001', 'Open': '34.919998', 'Date': '2014-05-30', 'High': '34.93', 'Close': '34.650002', 'Symbol': 'YHOO', 'Adj_Close': '34.650002', 'Volume': '13153000'}, {'Low': '34.669998', 'Open': '34.900002', 'Date': '2014-05-29', 'High': '35.099998', 'Close': '34.900002', 'Symbol': 'YHOO', 'Adj_Close': '34.900002', 'Volume': '9780800'}, {'Low': '34.419998', 'Open': '35.150002', 'Date': '2014-05-28', 'High': '35.169998', 'Close': '34.779999', 'Symbol': 'YHOO', 'Adj_Close': '34.779999', 'Volume': '16960500'}, {'Low': '34.73', 'Open': '35.00', 'Date': '2014-05-27', 'High': '35.130001', 'Close': '35.119999', 'Symbol': 'YHOO', 'Adj_Close': '35.119999', 'Volume': '13057000'}, {'Low': '34.509998', 'Open': '34.849998', 'Date': '2014-05-23', 'High': '35.080002', 'Close': '35.02', 'Symbol': 'YHOO', 'Adj_Close': '35.02', 'Volume': '16294400'}, {'Low': '34.259998', 'Open': '34.599998', 'Date': '2014-05-22', 'High': '34.860001', 'Close': '34.700001', 'Symbol': 'YHOO', 'Adj_Close': '34.700001', 'Volume': '17522800'}, {'Low': '33.889999', 'Open': '34.00', 'Date': '2014-05-21', 'High': '34.389999', 'Close': '34.360001', 'Symbol': 'YHOO', 'Adj_Close': '34.360001', 'Volume': '13804500'}, {'Low': '33.669998', 'Open': '33.990002', 'Date': '2014-05-20', 'High': '34.470001', 'Close': '33.869999', 'Symbol': 'YHOO', 'Adj_Close': '33.869999', 'Volume': '18596700'}, {'Low': '33.279999', 'Open': '33.41', 'Date': '2014-05-19', 'High': '33.990002', 'Close': '33.889999', 'Symbol': 'YHOO', 'Adj_Close': '33.889999', 'Volume': '14845700'}, {'Low': '33.099998', 'Open': '33.66', 'Date': '2014-05-16', 'High': '33.66', 'Close': '33.41', 'Symbol': 'YHOO', 'Adj_Close': '33.41', 'Volume': '18847100'}, {'Low': '33.400002', 'Open': '34.18', 'Date': '2014-05-15', 'High': '34.189999', 'Close': '33.799999', 'Symbol': 'YHOO', 'Adj_Close': '33.799999', 'Volume': '18879800'}, {'Low': '33.98', 'Open': '34.48', 'Date': '2014-05-14', 'High': '34.650002', 'Close': '34.169998', 'Symbol': 'YHOO', 'Adj_Close': '34.169998', 'Volume': '17039000'}, {'Low': '34.169998', 'Open': '34.43', 'Date': '2014-05-13', 'High': '34.689999', 'Close': '34.400002', 'Symbol': 'YHOO', 'Adj_Close': '34.400002', 'Volume': '12477100'}, {'Low': '33.869999', 'Open': '33.990002', 'Date': '2014-05-12', 'High': '34.599998', 'Close': '34.450001', 'Symbol': 'YHOO', 'Adj_Close': '34.450001', 'Volume': '22520600'}, {'Low': '33.41', 'Open': '34.009998', 'Date': '2014-05-09', 'High': '34.099998', 'Close': '33.759998', 'Symbol': 'YHOO', 'Adj_Close': '33.759998', 'Volume': '20303400'}, {'Low': '33.610001', 'Open': '33.880001', 'Date': '2014-05-08', 'High': '34.57', 'Close': '33.919998', 'Symbol': 'YHOO', 'Adj_Close': '33.919998', 'Volume': '30407700'}, {'Low': '33.669998', 'Open': '35.990002', 'Date': '2014-05-07', 'High': '35.990002', 'Close': '34.07', 'Symbol': 'YHOO', 'Adj_Close': '34.07', 'Volume': '66062700'}, {'Low': '36.48', 'Open': '36.939999', 'Date': '2014-05-06', 'High': '37.169998', 'Close': '36.490002', 'Symbol': 'YHOO', 'Adj_Close': '36.490002', 'Volume': '19156000'}, {'Low': '36.299999', 'Open': '36.68', 'Date': '2014-05-05', 'High': '37.049999', 'Close': '36.91', 'Symbol': 'YHOO', 'Adj_Close': '36.91', 'Volume': '13129100'}, {'Low': '36.209999', 'Open': '36.59', 'Date': '2014-05-02', 'High': '37.119999', 'Close': '36.869999', 'Symbol': 'YHOO', 'Adj_Close': '36.869999', 'Volume': '22454100'}, {'Low': '36.00', 'Open': '36.259998', 'Date': '2014-05-01', 'High': '36.689999', 'Close': '36.509998', 'Symbol': 'YHOO', 'Adj_Close': '36.509998', 'Volume': '19474700'}, {'Low': '35.25', 'Open': '35.889999', 'Date': '2014-04-30', 'High': '36.439999', 'Close': '35.950001', 'Symbol': 'YHOO', 'Adj_Close': '35.950001', 'Volume': '23341500'}, {'Low': '34.119999', 'Open': '34.369999', 'Date': '2014-04-29', 'High': '35.889999', 'Close': '35.830002', 'Symbol': 'YHOO', 'Adj_Close': '35.830002', 'Volume': '28736000'}, {'Low': '33.650002', 'Open': '34.669998', 'Date': '2014-04-28', 'High': '35.00', 'Close': '33.990002', 'Symbol': 'YHOO', 'Adj_Close': '33.990002', 'Volume': '31019200'}, {'Low': '34.290001', 'Open': '35.029999', 'Date': '2014-04-25', 'High': '35.099998', 'Close': '34.48', 'Symbol': 'YHOO', 'Adj_Close': '34.48', 'Volume': '19401600'}, {'Low': '34.77', 'Open': '35.82', 'Date': '2014-04-24', 'High': '35.82', 'Close': '35.240002', 'Symbol': 'YHOO', 'Adj_Close': '35.240002', 'Volume': '17242300'}, {'Low': '35.400002', 'Open': '36.080002', 'Date': '2014-04-23', 'High': '36.189999', 'Close': '35.439999', 'Symbol': 'YHOO', 'Adj_Close': '35.439999', 'Volume': '19051700'}, {'Low': '36.110001', 'Open': '36.709999', 'Date': '2014-04-22', 'High': '36.849998', 'Close': '36.139999', 'Symbol': 'YHOO', 'Adj_Close': '36.139999', 'Volume': '17915200'}, {'Low': '35.889999', 'Open': '36.599998', 'Date': '2014-04-21', 'High': '36.650002', 'Close': '36.400002', 'Symbol': 'YHOO', 'Adj_Close': '36.400002', 'Volume': '16685400'}, {'Low': '35.549999', 'Open': '36.290001', 'Date': '2014-04-17', 'High': '36.599998', 'Close': '36.380001', 'Symbol': 'YHOO', 'Adj_Close': '36.380001', 'Volume': '28932700'}, {'Low': '35.810001', 'Open': '36.98', 'Date': '2014-04-16', 'High': '37.299999', 'Close': '36.349998', 'Symbol': 'YHOO', 'Adj_Close': '36.349998', 'Volume': '61599100'}, {'Low': '32.639999', 'Open': '33.93', 'Date': '2014-04-15', 'High': '34.279999', 'Close': '34.209999', 'Symbol': 'YHOO', 'Adj_Close': '34.209999', 'Volume': '50600400'}, {'Low': '33.040001', 'Open': '33.549999', 'Date': '2014-04-14', 'High': '34.040001', 'Close': '33.450001', 'Symbol': 'YHOO', 'Adj_Close': '33.450001', 'Volume': '26322600'}, {'Low': '32.150002', 'Open': '32.639999', 'Date': '2014-04-11', 'High': '33.48', 'Close': '32.869999', 'Symbol': 'YHOO', 'Adj_Close': '32.869999', 'Volume': '28040700'}, {'Low': '33.09', 'Open': '34.880001', 'Date': '2014-04-10', 'High': '34.98', 'Close': '33.400002', 'Symbol': 'YHOO', 'Adj_Close': '33.400002', 'Volume': '34024900'}, {'Low': '33.950001', 'Open': '34.189999', 'Date': '2014-04-09', 'High': '35.00', 'Close': '34.869999', 'Symbol': 'YHOO', 'Adj_Close': '34.869999', 'Volume': '21651200'}, {'Low': '33.02', 'Open': '33.099998', 'Date': '2014-04-08', 'High': '34.43', 'Close': '33.830002', 'Symbol': 'YHOO', 'Adj_Close': '33.830002', 'Volume': '35486100'}, {'Low': '32.529999', 'Open': '34.110001', 'Date': '2014-04-07', 'High': '34.369999', 'Close': '33.07', 'Symbol': 'YHOO', 'Adj_Close': '33.07', 'Volume': '47770200'}, {'Low': '33.830002', 'Open': '36.009998', 'Date': '2014-04-04', 'High': '36.049999', 'Close': '34.259998', 'Symbol': 'YHOO', 'Adj_Close': '34.259998', 'Volume': '41049900'}, {'Low': '35.509998', 'Open': '36.66', 'Date': '2014-04-03', 'High': '36.790001', 'Close': '35.759998', 'Symbol': 'YHOO', 'Adj_Close': '35.759998', 'Volume': '16827800'}, {'Low': '36.560001', 'Open': '36.68', 'Date': '2014-04-02', 'High': '36.860001', 'Close': '36.639999', 'Symbol': 'YHOO', 'Adj_Close': '36.639999', 'Volume': '14522800'}, {'Low': '36.150002', 'Open': '36.16', 'Date': '2014-04-01', 'High': '36.860001', 'Close': '36.490002', 'Symbol': 'YHOO', 'Adj_Close': '36.490002', 'Volume': '15734000'}])
global output
temp8 = str(temp3)
output1 = np.array([temp8], dtype=str)
global temp4
temp4 = temp8 
FinalArray = np.array(['null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null'], dtype=object)
#np.array_str(temp3)
#name = Share('YHOO')
#temp = name.get_historical('2014-09-08','2015-09-08')
badNames = np.array([('Test')], dtype=str)
#loop to recursively find historical prices and add array of parsed historical prices to array object containing name of stock or corresponding number
z = len(names) -1

for x in range (0, z):
    temp4 = temp4
    FinalArray = FinalArray
    OpenArray = np.array([1], dtype=object)
    CloseArray = np.array([1]) 
    HighArray = np.array([1]) 
    LowArray = np.array([1]) 
    VolumeArray = np.array([1])
    
    TempOpenArray = np.array([()], dtype=float)
    TempCloseArray = np.array([], dtype=float)
    TempHighArray = np.array([], dtype=float)
    TempLowArray = np.array([], dtype=float)
    TempVolumeArray = np.array([], dtype=float)
    
    y = Share(names[x])
    try:
        
        temp1 = y.get_historical('2014-04-01', '2014-06-01')
    
        v = ([c['Open'] for c in temp1])
        TempOpenArray = np.array([v], dtype=float)
        #print (TempOpenArray)
        a= ([c['Close'] for c in temp1])
        TempCloseArray = np.array([a], dtype=float)
        #print (TempCloseArray)
        b= ([c['High'] for c in temp1])
        TempHighArray = np.array([b], dtype=float)
        #print (TempHighArray)
        e= ([c['Low'] for c in temp1])
        TempLowArray = np.array([e], dtype=float)
        #print (TempLowArray)
        d= ([c['Volume'] for c in temp1])
        TempVolumeArray = np.array([d], dtype=float)
        #print (TempVolumeArray)
    except:
        
        print("RIP")
        
    OpenArray = np.append([OpenArray], [TempOpenArray])
    #print (OpenArray)
    CloseArray = np.append([CloseArray], [TempCloseArray])
    HighArray = np.append([HighArray], [TempHighArray])
    LowArray = np.append([LowArray], [TempLowArray])
    VolumeArray = np.append([VolumeArray], [TempVolumeArray])

    tempArray= np.array([OpenArray, CloseArray, HighArray, LowArray, VolumeArray], dtype=object) 
    
    FinalArray[x] = tempArray 

    #print (FinalArray)

        
        
    x = x + 1
    print (x)
print (FinalArray)    
    
    
#print ("done")
#np.save(q, FinalArray)

def GetArray():
    return FinalArray







